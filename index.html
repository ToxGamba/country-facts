<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Country Facts</title>
<style>
    body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #ffecd2, #fcb69f);
        color: #333;
        display: flex;
        flex-direction: column;
        align-items: center;
        min-height: 100vh;
        padding: 20px;
        transition: background 0.5s;
        overflow-x: hidden;
    }

    h1 {
        font-size: 2.5rem;
        margin-bottom: 20px;
        text-align: center;
        color: #fff;
        text-shadow: 2px 2px 6px rgba(0,0,0,0.3);
    }

    #search-container { margin-bottom: 20px; }

    #search-input {
        padding: 12px 20px;
        font-size: 1rem;
        border-radius: 12px;
        border: none;
        width: 80vw;
        max-width: 300px;
        box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        transition: all 0.3s ease;
    }

    #search-input:focus {
        outline: none;
        transform: scale(1.02);
        box-shadow: 0 6px 12px rgba(0,0,0,0.25);
    }

    #countries {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
        gap: 15px;
        margin-bottom: 20px;
        width: 90%;
    }

    .country-card {
        background: #fff;
        padding: 20px;
        border-radius: 15px;
        cursor: pointer;
        font-size: 1.2rem;
        font-weight: bold;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 10px;
        box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        transition: transform 0.3s, box-shadow 0.3s, background 0.3s;
    }

    .country-card:hover {
        transform: translateY(-5px) scale(1.05);
        box-shadow: 0 8px 16px rgba(0,0,0,0.25);
        background: #fffa;
    }

    #random-btn {
        background: #fffa;
        border: 2px solid #fff;
        padding: 10px 20px;
        font-size: 1rem;
        font-weight: bold;
        border-radius: 12px;
        cursor: pointer;
        margin-bottom: 20px;
        transition: all 0.3s ease;
    }

    #random-btn:hover {
        background: #fff;
        transform: scale(1.05);
    }

    #fact-box {
        background: #fff;
        padding: 25px 20px;
        border-radius: 15px;
        max-width: 500px;
        width: 90%;
        text-align: center;
        box-shadow: 0 6px 15px rgba(0,0,0,0.25);
        margin-bottom: 20px;
        opacity: 1;
        transition: opacity 0.5s ease;
        position: relative;
    }

    #fact-box.fade { opacity: 0; }

    #fact-box h2 { font-size: 1.8rem; margin-bottom: 15px; color: #333; }

    #fact-box p { font-size: 1rem; line-height: 1.4; }

    #favorite-btn {
        position: absolute;
        top: 10px;
        right: 10px;
        font-size: 1.5rem;
        cursor: pointer;
        transition: transform 0.2s;
    }

    #favorite-btn:hover { transform: scale(1.2); }

    #history, #favorites { max-width: 500px; width: 90%; margin-bottom: 20px; background: #fff; padding: 15px 20px; border-radius: 12px; box-shadow: 0 4px 10px rgba(0,0,0,0.2); text-align: left; }

    h3 { margin-bottom: 10px; color: #333; }

    ul { list-style: none; padding-left: 0; }

    li { margin-bottom: 5px; }

    .confetti { position: fixed; width: 10px; height: 10px; background: gold; top: 0; left: 0; opacity: 0.7; z-index: 9999; pointer-events: none; }
</style>
</head>
<body>
<h1>üåé Country Facts</h1>

<div id="search-container">
    <input type="text" id="search-input" placeholder="Search for a country..." oninput="searchCountry()">
</div>

<div id="countries">
    <div class="country-card" onclick="showFact('usa')">üá∫üá∏<br>USA</div>
    <div class="country-card" onclick="showFact('canada')">üá®üá¶<br>Canada</div>
    <div class="country-card" onclick="showFact('france')">üá´üá∑<br>France</div>
    <div class="country-card" onclick="showFact('japan')">üáØüáµ<br>Japan</div>
    <div class="country-card" onclick="showFact('brazil')">üáßüá∑<br>Brazil</div>
    <div class="country-card" onclick="showFact('india')">üáÆüá≥<br>India</div>
</div>

<button id="random-btn" onclick="showRandomFact()">üé≤ Random Fact</button>

<div id="fact-box">
    <h2>Fact</h2>
    <p id="fact-text">Click a country, search, or random button to see a fact!</p>
    <span id="favorite-btn" onclick="addFavorite()">‚≠ê</span>
</div>

<div id="history">
    <h3>History</h3>
    <ul id="history-list"></ul>
</div>

<div id="favorites">
    <h3>Favorites</h3>
    <ul id="favorites-list"></ul>
</div>

<audio id="pop-sound" src="https://www.soundjay.com/buttons/sounds/button-16.mp3"></audio>

<script>
const facts = {
    usa: { text: "The United States has 50 states and its flag is called the 'Stars and Stripes'.", emoji: "ü¶Ö" },
    canada: { text: "Canada's flag features a red maple leaf and was adopted in 1965.", emoji: "üçÅ" },
    france: { text: "France's flag is called 'Le Tricolore' and has blue, white, and red vertical stripes.", emoji: "ü•ñ" },
    japan: { text: "Japan's flag features a red circle representing the sun on a white background.", emoji: "üéå" },
    brazil: { text: "Brazil's flag is green with a yellow diamond and a blue globe with 27 stars.", emoji: "‚öΩ" },
    india: { text: "India's flag is called the 'Tiranga' and has saffron, white, and green stripes with a blue Ashoka Chakra.", emoji: "üêò" }
};

const bgColors = ['#ffecd2','#fcb69f','#a1c4fd','#c2e9fb','#d4fc79','#96e6a1','#84fab0','#8fd3f4'];
let currentFact = "";
let history = [];
let favorites = [];

function showFact(country) {
    currentFact = facts[country]?.text || "No fact available for this country.";
    fadeFact(currentFact, facts[country]?.emoji);
    addHistory(currentFact);
    changeBackground();
    triggerConfetti();
    playSound();
}

function fadeFact(fact, emoji="") {
    const factBox = document.getElementById('fact-box');
    factBox.classList.add('fade');
    setTimeout(() => {
        document.getElementById('fact-text').textContent = fact + " " + emoji;
        factBox.classList.remove('fade');
    }, 500);
}

function showRandomFact() {
    const keys = Object.keys(facts);
    const randomKey = keys[Math.floor(Math.random() * keys.length)];
    showFact(randomKey);
}

function searchCountry() {
    const input = document.getElementById('search-input').value.toLowerCase();
    const keys = Object.keys(facts);
    const foundKey = keys.find(key => key.toLowerCase() === input);
    if(foundKey) showFact(foundKey);
    else if(input === '') document.getElementById('fact-text').textContent = "Click a country, search, or random button to see a fact!";
    else document.getElementById('fact-text').textContent = "Country not found.";
}

function changeBackground() {
    const color1 = bgColors[Math.floor(Math.random()*bgColors.length)];
    const color2 = bgColors[Math.floor(Math.random()*bgColors.length)];
    document.body.style.background = `linear-gradient(135deg, ${color1}, ${color2})`;
}

function addHistory(fact) {
    if(!history.includes(fact)) {
        history.push(fact);
        updateList('history-list', history);
    }
}

function addFavorite() {
    if(currentFact && !favorites.includes(currentFact)) {
        favorites.push(currentFact);
        updateList('favorites-list', favorites);
    }
}

function updateList(id, list) {
    const ul = document.getElementById(id);
    ul.innerHTML = "";
    list.forEach(f => {
        const li = document.createElement('li');
        li.textContent = f;
        ul.appendChild(li);
    });
}

function triggerConfetti() {
    for(let i=0;i<30;i++){
        const conf = document.createElement('div');
        conf.classList.add('confetti');
        conf.style.left = Math.random() * window.innerWidth + 'px';
        conf.style.background = ['#FFC700','#FF0000','#00FF00','#00FFFF','#FF00FF'][Math.floor(Math.random()*5)];
        document.body.appendChild(conf);
        let top = 0;
        const interval = setInterval(() => {
            top += 5 + Math.random()*5;
            conf.style.top = top + 'px';
            if(top > window.innerHeight){
                conf.remove();
                clearInterval(interval);
            }
        }, 20);
    }
}

function playSound() {
    const audio = document.getElementById('pop-sound');
    audio.currentTime = 0;
    audio.play();
}

// Auto-cycle random facts every 5 seconds
setInterval(showRandomFact, 5000);
</script>
</body>
</html>
